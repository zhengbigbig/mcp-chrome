# æµ‹è¯• MCP Server

ä¸€ä¸ªç‹¬ç«‹çš„ MCP (Model Context Protocol) æœåŠ¡å™¨ï¼Œç”¨äºæµ‹è¯•å¤š Server åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šä½¿ç”¨è„šæœ¬

```bash
./start.sh
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
npm install
npm start
```

### æ–¹å¼ä¸‰ï¼šå¼€å‘æ¨¡å¼

```bash
npm run dev
```

## ğŸ“¡ æœåŠ¡ç«¯ç‚¹

å¯åŠ¨åå¯ä»¥é€šè¿‡ä»¥ä¸‹ç«¯ç‚¹è®¿é—®ï¼š

- **HTTP API**: `http://localhost:3001`
- **WebSocket**: `ws://localhost:3001/ws`
- **å¥åº·æ£€æŸ¥**: `http://localhost:3001/health`
- **æœåŠ¡å™¨ä¿¡æ¯**: `http://localhost:3001/info`

## ğŸ”§ æ”¯æŒçš„å·¥å…·

### 1. weather - å¤©æ°”æŸ¥è¯¢

è·å–æŒ‡å®šåŸå¸‚çš„æ¨¡æ‹Ÿå¤©æ°”ä¿¡æ¯ã€‚

**å‚æ•°**:

- `city` (required): åŸå¸‚åç§°
- `unit` (optional): æ¸©åº¦å•ä½ (`celsius` æˆ– `fahrenheit`)

**ç¤ºä¾‹**:

```json
{
  "name": "weather",
  "arguments": {
    "city": "åŒ—äº¬",
    "unit": "celsius"
  }
}
```

### 2. translate - æ–‡æœ¬ç¿»è¯‘

æ¨¡æ‹Ÿç¿»è¯‘æ–‡æœ¬åˆ°æŒ‡å®šè¯­è¨€ã€‚

**å‚æ•°**:

- `text` (required): è¦ç¿»è¯‘çš„æ–‡æœ¬
- `from` (optional): æºè¯­è¨€ä»£ç 
- `to` (required): ç›®æ ‡è¯­è¨€ä»£ç 

**ç¤ºä¾‹**:

```json
{
  "name": "translate",
  "arguments": {
    "text": "hello",
    "to": "zh"
  }
}
```

### 3. random_number - éšæœºæ•°ç”Ÿæˆ

ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°ã€‚

**å‚æ•°**:

- `min` (optional): æœ€å°å€¼ï¼Œé»˜è®¤ 0
- `max` (optional): æœ€å¤§å€¼ï¼Œé»˜è®¤ 100
- `count` (optional): ç”Ÿæˆæ•°é‡ï¼Œé»˜è®¤ 1

**ç¤ºä¾‹**:

```json
{
  "name": "random_number",
  "arguments": {
    "min": 1,
    "max": 10,
    "count": 3
  }
}
```

### 4. system_info - ç³»ç»Ÿä¿¡æ¯

è·å–æœåŠ¡å™¨ç³»ç»Ÿä¿¡æ¯ã€‚

**å‚æ•°**: æ— 

**ç¤ºä¾‹**:

```json
{
  "name": "system_info",
  "arguments": {}
}
```

### 5. base64_encode - Base64 ç¼–ç 

å¯¹æ–‡æœ¬è¿›è¡Œ Base64 ç¼–ç ã€‚

**å‚æ•°**:

- `text` (required): è¦ç¼–ç çš„æ–‡æœ¬

**ç¤ºä¾‹**:

```json
{
  "name": "base64_encode",
  "arguments": {
    "text": "Hello World"
  }
}
```

### 6. base64_decode - Base64 è§£ç 

å¯¹ Base64 å­—ç¬¦ä¸²è¿›è¡Œè§£ç ã€‚

**å‚æ•°**:

- `encoded` (required): è¦è§£ç çš„ Base64 å­—ç¬¦ä¸²

**ç¤ºä¾‹**:

```json
{
  "name": "base64_decode",
  "arguments": {
    "encoded": "SGVsbG8gV29ybGQ="
  }
}
```

## ğŸ§ª æµ‹è¯•æ–¹æ³•

### HTTP API æµ‹è¯•

1. **è·å–å·¥å…·åˆ—è¡¨**:

```bash
curl -X POST http://localhost:3001/tools/list \
  -H "Content-Type: application/json"
```

2. **è°ƒç”¨å·¥å…·**:

```bash
curl -X POST http://localhost:3001/tools/call \
  -H "Content-Type: application/json" \
  -d '{
    "params": {
      "name": "weather",
      "arguments": {
        "city": "ä¸Šæµ·",
        "unit": "celsius"
      }
    }
  }'
```

3. **å¥åº·æ£€æŸ¥**:

```bash
curl http://localhost:3001/health
```

### åœ¨æµè§ˆå™¨æ’ä»¶ä¸­æ·»åŠ 

1. æ‰“å¼€æµè§ˆå™¨æ’ä»¶çš„ Server ç®¡ç†é¡µé¢
2. æ·»åŠ æ–°çš„ Serverï¼š
   - **åç§°**: `test-server`
   - **æ˜¾ç¤ºåç§°**: `æµ‹è¯•æœåŠ¡å™¨`
   - **ç±»å‹**: `http`
   - **ç«¯ç‚¹**: `http://localhost:3001`
   - **ä¼˜å…ˆçº§**: `8`

## ğŸ”§ é…ç½®é€‰é¡¹

å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

- `PORT`: æœåŠ¡å™¨ç«¯å£ï¼Œé»˜è®¤ 3001

```bash
PORT=4000 npm start
```

## ğŸ“Š ç‰¹æ€§

- âœ… æ”¯æŒæ ‡å‡† MCP åè®®
- âœ… HTTP å’Œ WebSocket åŒä¼ è¾“æ–¹å¼
- âœ… 6 ä¸ªæµ‹è¯•å·¥å…·
- âœ… å¥åº·æ£€æŸ¥å’ŒæœåŠ¡ä¿¡æ¯ç«¯ç‚¹
- âœ… CORS æ”¯æŒ
- âœ… ä¼˜é›…å…³é—­
- âœ… è¯¦ç»†æ—¥å¿—è¾“å‡º

## ğŸš€ ä¸æµè§ˆå™¨æ’ä»¶é›†æˆ

è¿™ä¸ªæµ‹è¯•æœåŠ¡å™¨ä¸“é—¨è®¾è®¡ç”¨äºéªŒè¯æµè§ˆå™¨æ’ä»¶çš„å¤š Server åŠŸèƒ½ï¼š

1. **å¤šæ ·åŒ–å·¥å…·**: æä¾›ä¸åŒç±»å‹çš„å·¥å…·ï¼ˆå¤©æ°”ã€ç¿»è¯‘ã€ç¼–ç ç­‰ï¼‰
2. **ä¸åŒå»¶è¿Ÿ**: æ¨¡æ‹ŸçœŸå®ç½‘ç»œç¯å¢ƒ
3. **é”™è¯¯å¤„ç†**: æµ‹è¯•é”™è¯¯æƒ…å†µå’Œé‡è¯•æœºåˆ¶
4. **è´Ÿè½½å‡è¡¡**: éªŒè¯å¤š Server ä¹‹é—´çš„æ™ºèƒ½è·¯ç”±

ä½¿ç”¨è¿™ä¸ªæµ‹è¯•æœåŠ¡å™¨ï¼Œä½ å¯ä»¥éªŒè¯ï¼š

- å·¥å…·é€‰æ‹©çš„æ™ºèƒ½æ€§
- å¤š Server ä¹‹é—´çš„è´Ÿè½½å‡è¡¡
- é”™è¯¯æ—¶çš„è‡ªåŠ¨åˆ‡æ¢
- æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡

## ğŸ“ å¼€å‘è¯´æ˜

åŸºäº @modelcontextprotocol/sdk æ„å»ºï¼Œå®Œå…¨å…¼å®¹ MCP æ ‡å‡†ã€‚å¯ä»¥ä½œä¸ºå¼€å‘å…¶ä»– MCP Server çš„å‚è€ƒå®ç°ã€‚
